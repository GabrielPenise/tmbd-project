{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nexport default function FilmSearch(query, pageNumber) {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [movies, setMovies] = useState([]);\n  const [hasMore, setHasMore] = useState(false);\n  const url = \"https://api.themoviedb.org/3/search/multi?api_key=42c75a6b80c35f26dc7f205b88001ee4&language=en-US\";\n  useEffect(() => {\n    setMovies([]);\n  }, [query]);\n  useEffect(() => {\n    let cancel;\n    setLoading(true);\n    setError(false);\n    axios({\n      method: \"GET\",\n      url,\n      params: {\n        q: query,\n        page: pageNumber\n      },\n      cancelToken: new axios.CancelToken(c => cancel = c)\n    }).then(res => {\n      setMovies(prevMovies => {\n        return [...prevMovies, ...res.data.results];\n      });\n      setHasMore(res.data.results > 0);\n      setLoading(false);\n    }).catch(e => {\n      if (axios.isCancel(e)) return;\n      setError(true);\n    });\n    return () => cancel();\n  }, [query, pageNumber]);\n  return {\n    loading,\n    error,\n    movies,\n    hasMore\n  };\n}\n_s(FilmSearch, \"PZBdoqEy748sESPMwzmoEDQiuno=\");\n_c = FilmSearch;\nvar _c;\n$RefreshReg$(_c, \"FilmSearch\");","map":{"version":3,"names":["axios","useEffect","useState","FilmSearch","query","pageNumber","loading","setLoading","error","setError","movies","setMovies","hasMore","setHasMore","url","cancel","method","params","q","page","cancelToken","CancelToken","c","then","res","prevMovies","data","results","catch","e","isCancel"],"sources":["/home/gabipe/Escritorio/WorkShops p5/Indivudal Projects/TMBD/tmbd/back/tmbdproject/src/components/filmSearch.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\n\nexport default function FilmSearch(query, pageNumber) {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [movies, setMovies] = useState([]);\n  const [hasMore, setHasMore] = useState(false);\n\n  const url =\n    \"https://api.themoviedb.org/3/search/multi?api_key=42c75a6b80c35f26dc7f205b88001ee4&language=en-US\";\n\n  useEffect(() => {\n    setMovies([]);\n  }, [query]);\n\n  useEffect(() => {\n    let cancel;\n    setLoading(true);\n    setError(false);\n    axios({\n      method: \"GET\",\n      url,\n      params: { q: query, page: pageNumber },\n      cancelToken: new axios.CancelToken((c) => (cancel = c)),\n    })\n      .then((res) => {\n        setMovies((prevMovies) => {\n          return [...prevMovies, ...res.data.results];\n        });\n        setHasMore(res.data.results > 0);\n        setLoading(false);\n      })\n      .catch((e) => {\n        if (axios.isCancel(e)) return;\n        setError(true);\n      });\n    return () => cancel();\n  }, [query, pageNumber]);\n  return { loading, error, movies, hasMore };\n}\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,eAAe,SAASC,UAAU,CAACC,KAAK,EAAEC,UAAU,EAAE;EAAA;EACpD,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGL,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EACzC,MAAM,CAACQ,MAAM,EAAEC,SAAS,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMY,GAAG,GACP,mGAAmG;EAErGb,SAAS,CAAC,MAAM;IACdU,SAAS,CAAC,EAAE,CAAC;EACf,CAAC,EAAE,CAACP,KAAK,CAAC,CAAC;EAEXH,SAAS,CAAC,MAAM;IACd,IAAIc,MAAM;IACVR,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,KAAK,CAAC;IACfT,KAAK,CAAC;MACJgB,MAAM,EAAE,KAAK;MACbF,GAAG;MACHG,MAAM,EAAE;QAAEC,CAAC,EAAEd,KAAK;QAAEe,IAAI,EAAEd;MAAW,CAAC;MACtCe,WAAW,EAAE,IAAIpB,KAAK,CAACqB,WAAW,CAAEC,CAAC,IAAMP,MAAM,GAAGO,CAAE;IACxD,CAAC,CAAC,CACCC,IAAI,CAAEC,GAAG,IAAK;MACbb,SAAS,CAAEc,UAAU,IAAK;QACxB,OAAO,CAAC,GAAGA,UAAU,EAAE,GAAGD,GAAG,CAACE,IAAI,CAACC,OAAO,CAAC;MAC7C,CAAC,CAAC;MACFd,UAAU,CAACW,GAAG,CAACE,IAAI,CAACC,OAAO,GAAG,CAAC,CAAC;MAChCpB,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,CACDqB,KAAK,CAAEC,CAAC,IAAK;MACZ,IAAI7B,KAAK,CAAC8B,QAAQ,CAACD,CAAC,CAAC,EAAE;MACvBpB,QAAQ,CAAC,IAAI,CAAC;IAChB,CAAC,CAAC;IACJ,OAAO,MAAMM,MAAM,EAAE;EACvB,CAAC,EAAE,CAACX,KAAK,EAAEC,UAAU,CAAC,CAAC;EACvB,OAAO;IAAEC,OAAO;IAAEE,KAAK;IAAEE,MAAM;IAAEE;EAAQ,CAAC;AAC5C;AAAC,GArCuBT,UAAU;AAAA,KAAVA,UAAU;AAAA;AAAA"},"metadata":{},"sourceType":"module"}